@using Microsoft.AspNetCore.Identity
@using VerdonFileManager.Services
@inject NavigationManager router
@inject IHttpContextAccessor _cont
@inject ApplicationDbContext _db

<aside id="leftsidebar" class="sidebar">
    <div class="navbar-brand">
        <a href="/">
            <h1 style="color:black; font-size:larger; font-weight:bolder;">
                <i>Ver<span style="color:rgb(43,187,208);font-size:larger;">don.</span></i>
                <sub><small class="text-dark lead" style="font-size:small;">DIRECTORY</small></sub></h1>
            </a>
    </div>
    <div class="menu">
        <ul class="list">
            <li>
                <div class="user-info">
                    <a class="image" href="/@Image"><img src="@Image" alt="User"></a>
                    <div class="detail">
                        <h4>@FirstName</h4>
                        <small>Project Manager</small>                        
                    </div>
                </div>
            </li>
            <li><NavLink ActiveClass="active" href="/"><i class="zmdi zmdi-home"></i><span>Dashboard</span></NavLink></li>
            <li> 
                <NavLink ActiveClass="active" href="/folders"><i class="zmdi zmdi-folder"></i><span>Folders</span></NavLink>
            </li>
            <li>
                <NavLink ActiveClass="active" href="/images"><i class="zmdi zmdi-collection-image"></i><span>Images</span></NavLink>
            </li>
            <li class="open_top">
                <NavLink ActiveClass="active" href="/documents"><i class="zmdi zmdi-collection-text"></i><span>Documents</span></NavLink>
            </li>
            <li class="open_top">
                <NavLink ActiveClass="active" href="/audio"><i class="zmdi zmdi-audio"></i><span>Audio</span></NavLink>
            </li>
            <li class="open_top">
                <NavLink ActiveClass="active" href="/videos"><i class="zmdi zmdi-collection-video"></i><span>Videos</span></NavLink>
            </li>
            <li>
                 <div class="progress-container progress-info">
                    <span class="progress-badge">Server Load</span>
                    <div class="progress">
                        <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="86" aria-valuemin="0" aria-valuemax="100" style="width: @pog%;">
                            <span class="progress-value">@pog%</span>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</aside>

@code {
    public string? FirstName;
    public string? Image;
    public string pog;
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        FirstName = _cont.HttpContext.Session.GetString("FName");
        Image = _cont.HttpContext.Session.GetString("Image");
        pog = _cont.HttpContext.Session.GetString("Total");
    }
    

}
